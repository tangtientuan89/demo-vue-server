webpackJsonp([2],{"+4MC":function(t,e){},"0odm":function(t,e){},"571w":function(t,e){},"7g9w":function(t,e){},"956k":function(t,e){},"9LgA":function(t,e,n){t.exports=n.p+"static/img/Apps-Dialog-Add-icon.1b01437.png"},"9M+g":function(t,e){},Ffm8:function(t,e){},GfaM:function(t,e){},Jmt5:function(t,e){},LKIz:function(t,e){},"LWt+":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o=n("Dd8w"),s=n.n(o),i=n("NYxO"),r={data:function(){return{user:""}},computed:s()({},Object(i.b)({isLogin:function(t){return t.login.isLogin}})),methods:{getUser:function(){return this.user=$cookies.get("user")},checkAdmin:function(){if(1==$cookies.get("type"))return!0},removeDataLocal:function(){$cookies.remove("token"),$cookies.remove("type"),$cookies.remove("user"),this.$store.dispatch("isLogin"),localStorage.clear()}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{to:"/"}},[t._v("Home")]),t._v(" "),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"/news"}},[t._v("News")]),t._v(" "),n("b-nav-item",{attrs:{to:"/to-do"}},[t._v("Todo")]),t._v(" "),t.checkAdmin()?n("b-nav-item",{attrs:{to:"/admin"}},[t._v("Admin")]):t._e(),t._v(" "),n("b-nav-item",{attrs:{to:"/about"}},[t._v("About")])],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[1==t.isLogin?n("div",[n("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("em",{key:t.getUser()},[t._v(t._s(t.user))])]},proxy:!0}],null,!1,1265335693)},[t._v(" "),n("b-dropdown-item",{attrs:{to:"/change-password"}},[t._v("ChangePassword")]),t._v(" "),n("b-dropdown-item",{attrs:{to:"/"},on:{click:t.removeDataLocal}},[t._v("Sign Out")])],1)],1):t._e(),t._v(" "),0==t.isLogin?n("div",[n("router-link",{attrs:{to:"/login"}},[n("b-btn",{staticClass:"px-3"},[t._v("Login")])],1)],1):t._e()])],1)],1)],1)},staticRenderFns:[]};var d={components:{Header:n("VU/8")(r,c,!1,function(t){n("Qbb+")},"data-v-35fb17e1",null).exports},computed:s()({},Object(i.b)({isLogin:function(t){return t.login.isLogin}})),created:function(){this.$store.dispatch("isLogin"),console.log("isLogin",this.isLogin)}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(d,l,!1,function(t){n("uJi3")},null,null).exports,m=n("/ocq"),f={data:function(){return{text:{animation:"",text:!1,btn:!1}}},mounted:function(){this.handleText(),this.handleBtn(),this.textLagre()},computed:s()({},Object(i.b)({isLogin:function(t){return t.login.isLogin}})),methods:{textLagre:function(){for(var t=this,e=[],n=0;n<"WELLCOME".length;n++)e.push("WELLCOME"[n]);var a="";e.forEach(function(e,n){setTimeout(function(){t.text.animation=a+e,a+=e},200*(n+1))})},handleText:function(){var t=this;setTimeout(function(){return t.text.text=!0},1700)},handleBtn:function(){var t=this;setTimeout(function(){t.text.btn=!0},2700)}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[1==t.isLogin?n("div",[n("h1",[t._v("Hello")]),t._v(" "),n("h1",[t._v(t._s(this.$cookies.get("user")))])]):t._e(),t._v(" "),0==t.isLogin?n("div",[n("div",{staticClass:"text-h1"},[n("p",{staticClass:"text-h1-content"},[t._v(t._s(t.text.animation))])]),t._v(" "),n("div",{staticClass:"text-h3"},[1==t.text.text?n("p",{staticClass:"text-h3-content"},[t._v("Please login or register to use Web application")]):t._e()]),t._v(" "),n("div",{staticClass:"btn"},[1==t.text.btn?n("div",{staticClass:"btn-content"},[n("router-link",{attrs:{to:"/login"}},[n("button",{staticClass:"btn-login"},[t._v("Login")])]),t._v(" "),n("router-link",{attrs:{to:"/register"}},[n("button",{staticClass:"btn-register"},[t._v("Register")])])],1):t._e()])]):t._e()])},staticRenderFns:[]};var p=n("VU/8")(f,h,!1,function(t){n("956k")},"data-v-38abd973",null).exports;var v="https://demo-server-vuejs.herokuapp.com",g=n("mtWM"),_=n.n(g),b={data:function(){return{form:{email:"",password:"",checked:[]},show:!0,message:""}},methods:{fetchLogin:function(){var t=this;_()({method:"post",url:v+"/login",data:{email:this.form.email,password:this.form.password}}).then(function(e){if(200==e.data.code)return $cookies.set("token",e.data.token),$cookies.set("type",e.data.type),$cookies.set("user",e.data.user),t.$store.dispatch("isLogin"),t.redirectHome();400==e.data.code&&(t.message=e.data.message.message)}).catch(function(e){return t.$router.push("/error")})},redirectHome:function(){this.$router.push("/")},onSubmit:function(t){t.preventDefault()},onReset:function(t){var e=this;t.preventDefault(),this.form.email="",this.form.name="",this.show=!1,this.$nextTick(function(){e.show=!0})}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.show?n("b-form",{staticClass:"pt-5",on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1",description:"We'll never share your email with anyone else."}},[n("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"input-group-2",label:"Your Password:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("div",{staticClass:"text-danger py-3"},[t._v(t._s(t.message))]),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.fetchLogin()}}},[t._v("Login")]),t._v(" "),n("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1)},staticRenderFns:[]};var x=n("VU/8")(b,w,!1,function(t){n("0odm")},"data-v-704444da",null).exports,C={data:function(){return{form:{email:"",password:"",confirmPassword:""},show:!0,message:""}},mounted:function(){},methods:{fetchRegister:function(){var t=this;this.checkMatchPassword()&&this.checkValidateEmail()&&_()({method:"post",url:v+"/register",data:{email:this.form.email,password:this.form.password}}).then(function(e){if(200==e.data.code)return alert("register success, pls login"),t.redirectLogin();400==e.data.code&&(t.message=e.data.message.message)}).catch(function(e){return t.$router.push("/error")})},checkMatchPassword:function(){return this.form.password===this.form.confirmPassword||(this.message="confirm password not match",!1)},validateEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},checkValidateEmail:function(){return!(!this.validateEmail(this.form.email)||!this.form.password)},redirectLogin:function(){this.$router.push("/login")},onSubmit:function(t){t.preventDefault()},onReset:function(t){var e=this;t.preventDefault(),this.form.email="",this.form.password="",this.form.confirmPassword="",this.show=!1,this.$nextTick(function(){e.show=!0})}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.show?n("b-form",{staticClass:"pt-5",on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1",description:"We'll never share your email with anyone else."}},[n("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"input-group-2",label:"Your Password:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"input-group-2",label:"Confirm Your Password:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Enter confirm password",type:"password"},model:{value:t.form.confirmPassword,callback:function(e){t.$set(t.form,"confirmPassword",e)},expression:"form.confirmPassword"}})],1),t._v(" "),n("div",{staticClass:"text-danger py-3"},[t._v(t._s(t.message))]),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.fetchRegister()}}},[t._v("Register")]),t._v(" "),n("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1)},staticRenderFns:[]};var y=n("VU/8")(C,k,!1,function(t){n("sOyo")},"data-v-21f88436",null).exports,$={data:function(){return{form:{password:"",newPassword:"",confirmNewPassword:""},show:!0,message:""}},methods:{fetchRegister:function(){var t=this;this.checkMatchNewPassword()&&_()({method:"post",url:v+"/change-password",data:{password:this.form.password,newPassword:this.form.newPassword},headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(e){if(200==e.data.code)return alert("change success, pls login again"),$cookies.remove("token"),$cookies.remove("type"),$cookies.remove("user"),t.$store.dispatch("isLogin"),localStorage.clear(),t.redirectLogin();404==e.data.code&&(t.message=e.data.message)}).catch(function(e){t.$store.dispatch("getDataError",e),t.$router.push("/error")})},checkMatchNewPassword:function(){return this.form.newPassword===this.form.confirmNewPassword||(this.message="confirm new password not match",!1)},redirectLogin:function(){this.$router.push("/login")},onSubmit:function(t){t.preventDefault()},onReset:function(t){var e=this;t.preventDefault(),this.form.password="",this.form.newPassword="",this.form.confirmNewPassword="",this.show=!1,this.$nextTick(function(){e.show=!0})}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.show?n("b-form",{staticClass:"pt-5",on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Your Password:","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",required:"",placeholder:"Enter password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"input-group-2",label:"Your New Password:","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Enter new password",type:"password"},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"input-group-3",label:"Confirm Your New Password:","label-for":"input-3"}},[n("b-form-input",{attrs:{id:"input-3",required:"",placeholder:"Enter confirm new password",type:"password"},model:{value:t.form.confirmNewPassword,callback:function(e){t.$set(t.form,"confirmNewPassword",e)},expression:"form.confirmNewPassword"}})],1),t._v(" "),n("div",{staticClass:"text-danger py-3"},[t._v(t._s(t.message))]),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return t.fetchRegister()}}},[t._v("Change")]),t._v(" "),n("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1)},staticRenderFns:[]};var E=n("VU/8")($,S,!1,function(t){n("Xnkk")},"data-v-72fca6f0",null).exports,T=n("mvHQ"),D=n.n(T),F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search py-3 row d-flex justify-content-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.textSearch,expression:"textSearch"}],staticClass:"form-control col-4",attrs:{type:"text"},domProps:{value:t.textSearch},on:{keyup:[t.giveTextSearch,function(e){return e.type.indexOf("key")||13===e.keyCode?t.giveTextSearch(e):null}],input:function(e){e.target.composing||(t.textSearch=e.target.value)}}}),t._v(" "),n("div",{staticClass:"px-2"},[n("button",{staticClass:"btn btn-primary",on:{click:t.giveTextSearch}},[t._v("Search")])])])},staticRenderFns:[]};var L=n("VU/8")({data:function(){return{textSearch:""}},methods:{giveTextSearch:function(){this.$emit("giveTextSearch",this.textSearch)}}},F,!1,function(t){n("LWt+")},"data-v-f10ffea6",null).exports,P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("table",{staticClass:"table table-sm table-striped table-hover"},[t._m(0),t._v(" "),n("tbody",t._l(t.data,function(e,a){return n("tr",{key:e._id,staticClass:"row"},[n("th",{staticClass:"col-1 d-flex justify-content-center align-items-center"},[t._v(t._s(a+1))]),t._v(" "),n("td",{staticClass:"col-3 d-flex justify-content-center align-items-center"},[n("router-link",{attrs:{to:"/to-do/"+e.title+"-post"+e._id+".html"}},[t._v(t._s(e.title))])],1),t._v(" "),n("td",{staticClass:"col-5 d-flex justify-content-center align-items-center"},[n("router-link",{attrs:{to:"/to-do/"+e.title+"-post"+e._id+".html"}},[t._v(t._s(e.content))])],1),t._v(" "),n("td",{staticClass:"col-3 d-flex justify-content-center"},[n("button",{staticClass:"m-2 btn btn-warning text-dark",attrs:{type:"button"},on:{click:function(n){return t.handleBtnEdit({_id:e._id,title:e.title,content:e.content})}}},[t._v("Edit")]),t._v(" "),n("button",{staticClass:"m-2 btn btn-danger",attrs:{type:"button"},on:{click:function(n){return t.deleteData(e._id)}}},[t._v("Delete")])])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticClass:"row"},[e("th",{staticClass:"col-1"},[this._v("#")]),this._v(" "),e("th",{staticClass:"col-3"},[this._v("Title")]),this._v(" "),e("th",{staticClass:"col-5"},[this._v("Content")]),this._v(" "),e("th",{staticClass:"col-3"},[this._v("Button")])])])}]};var U=n("VU/8")({props:["data","deleteData","isEditForm"],data:function(){return{fields:["title","content"]}},methods:{handleBtnEdit:function(t){this.isEditForm(),this.$store.dispatch("editDataTodo",t)}}},P,!1,function(t){n("7g9w")},"data-v-98698836",null).exports,R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("form",{staticClass:"bg-light",attrs:{onsubmit:"{this.handleSubmit}"}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-light",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title","aria-describedby":"emailHelp",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-light",attrs:{for:"content"}},[t._v("Content")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end align-items-end py-2"},[n("div",{staticClass:"px-2"},[n("button",{staticClass:"btn text-light btn-secondary",attrs:{type:"button"},on:{click:t.isHideForm}},[t._v("Cancel")])]),t._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.handleSaveClick(t.title,t.content)}}},[t._v("Save")])])])])])},staticRenderFns:[]};var A=n("VU/8")({props:["isAddForm","isHideForm","addData"],data:function(){return{title:"",content:""}},methods:{handleSaveClick:function(t,e){this.addData(t,e),this.isHideForm()}}},R,!1,function(t){n("e6n7")},"data-v-77add434",null).exports,j={props:["isEditForm","isHideForm","editData"],mounted:function(){this.title=this.$store.state.dataTodo.editData.title,this.content=this.$store.state.dataTodo.editData.content},data:function(){return{title:"",content:""}},methods:s()({},Object(i.b)({storeEditData:function(t){return t.dataTodo.editData}}),{handlebBtnSave:function(t){console.log("object",this.title),this.editData(t,this.title,this.content),console.log("id ",t),this.isHideForm()}})},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("form",{staticClass:"bg-light",attrs:{onsubmit:"{this.handleSubmit}"}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-light",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title","aria-describedby":"emailHelp",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-light",attrs:{for:"content"}},[t._v("Content")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"Content"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"d-flex justify-content-end align-items-end py-2"},[n("div",{staticClass:"px-2"},[n("button",{staticClass:"btn text-light btn-secondary",attrs:{type:"button"},on:{click:t.isHideForm}},[t._v("Cancel")])]),t._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.handlebBtnSave(t.storeEditData()._id)}}},[t._v("Save")])])])])])},staticRenderFns:[]};var H={components:{SearchTodo:L,Table:U,AddForm:A,EditForm:n("VU/8")(j,N,!1,function(t){n("571w")},"data-v-72c480f3",null).exports},data:function(){return{data:"",textSearch:"",statusForm:"hide"}},mounted:function(){this.getData()},computed:{},methods:{isAddForm:function(){return this.statusForm="add"},isEditForm:function(){return this.statusForm="edit"},isHideForm:function(){return this.statusForm="hide"},handleSearch:function(t){this.textSearch=t,this.getData()},getData:function(){var t=this;_()({method:"GET",url:v+"/api/to-do-list?search="+this.textSearch,headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(e){if(200==e.data.code)return t.data=e.data.data,localStorage.setItem("dataTodo",D()(t.data)),t.$store.dispatch("getDataTodo",t.data);404==e.data.code&&(t.$store.dispatch("getDataError",e.data.message),t.$router.push("/error"))}).catch(function(e){return t.$router.push("/error")})},addData:function(t,e){var n=this;_()({method:"POST",url:v+"/api/to-do-list",data:{title:t,content:e},headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(t){console.log("res",t),n.getData()}).catch(function(t){return console.log(t)})},editData:function(t,e,n){var a=this;console.log("dataedit",e),_()({method:"PUT",url:v+"/api/to-do-list?id="+t,data:{title:e,content:n},headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(t){console.log("res",t),a.getData()}).catch(function(t){return console.log(t)})},deleteData:function(t){var e=this;_()({method:"DELETE",url:v+"/api/to-do-list?id="+t,headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(t){console.log("delete success"),e.getData()}).catch(function(t){return console.log(t)})}}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("SearchTodo",{on:{giveTextSearch:t.handleSearch}}),t._v(" "),n("div",{staticClass:"addNew",on:{click:t.isAddForm}},[t._m(0),t._v(" "),n("label",{attrs:{for:"modal-add"}},[t._v("Add New")])]),t._v(" "),"add"==t.statusForm?n("AddForm",{attrs:{isAddForm:t.isAddForm,isHideForm:t.isHideForm,addData:t.addData}}):t._e(),t._v(" "),"edit"==t.statusForm?n("EditForm",{attrs:{isEditForm:t.isEditForm,isHideForm:t.isHideForm,editData:t.editData}}):t._e(),t._v(" "),n("Table",{attrs:{data:t.data,deleteData:t.deleteData,isEditForm:t.isEditForm,statusForm:t.statusForm}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-add",attrs:{id:"modal-add"}},[e("img",{staticClass:"icon",attrs:{src:n("9LgA"),alt:""}})])}]};var O=n("VU/8")(H,V,!1,function(t){n("mngP")},"data-v-997cd40c",null).exports,B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search py-3 row d-flex justify-content-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.textSearch,expression:"textSearch"}],staticClass:"form-control col-4",attrs:{type:"text"},domProps:{value:t.textSearch},on:{keyup:[t.giveTextSearch,function(e){return e.type.indexOf("key")||13===e.keyCode?t.giveTextSearch(e):null}],input:function(e){e.target.composing||(t.textSearch=e.target.value)}}}),t._v(" "),n("div",{staticClass:"px-2"},[n("button",{staticClass:"btn btn-primary",on:{click:t.giveTextSearch}},[t._v("Search")])])])},staticRenderFns:[]};var M={components:{SearchUser:n("VU/8")({data:function(){return{textSearch:""}},methods:{giveTextSearch:function(){this.$emit("giveTextSearch",this.textSearch)}}},B,!1,function(t){n("mCGq")},"data-v-6d015179",null).exports},mounted:function(){this.getUsers()},data:function(){return{data:"",textSearch:""}},methods:{getUsers:function(){var t=this;_()({method:"GET",url:v+"/api/admin?search="+this.textSearch,headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(e){if(200==e.data.code)return t.data=e.data.data,void localStorage.setItem("dataUsers",D()(t.data));404==e.data.code&&(t.$store.dispatch("getDataError",e.data.message),t.$router.push("/error"))}).catch(function(e){t.$store.dispatch("getDataError",e),t.$router.push("/error")})},changeStatusUser:function(t,e){var n=this;_()({method:"PUT",url:v+"/api/admin?id="+t+"&status="+e,headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(t){n.getUsers()})},deleteUser:function(t){var e=this;_()({method:"DELETE",url:v+"/api/admin?id="+t,headers:{Authorization:"Bearer token="+$cookies.get("token"),"Content-Type":"application/json"}}).then(function(t){e.getUsers()})},handleSearch:function(t){this.textSearch=t,this.getUsers()},changeStyle:function(t){if("blocked"==t||0==t)return"color:red"}}},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",[t._v("Manage user")]),t._v(" "),n("SearchUser",{on:{giveTextSearch:t.handleSearch}}),t._v(" "),n("div",{staticClass:"container table-admin"},[n("table",{staticClass:"table table-sm table-striped table-hover"},[t._m(0),t._v(" "),n("tbody",t._l(t.data,function(e,a){return n("tr",{key:e._id,staticClass:"row"},[n("th",{staticClass:"col-1 d-flex justify-content-center align-items-center"},[t._v(t._s(a+1))]),t._v(" "),n("td",{staticClass:"col-3 d-flex justify-content-center align-items-center"},[n("router-link",{attrs:{to:"/admin/"+e.email+"-user"+e._id+".html"}},[t._v(t._s(e.email))])],1),t._v(" "),n("td",{staticClass:"col-2 d-flex justify-content-center align-items-center"},[n("router-link",{style:t.changeStyle(e.status),attrs:{to:"/admin/"+e.email+"-user"+e._id+".html"}},[t._v(t._s(e.status))])],1),t._v(" "),n("td",{staticClass:"col-1 d-flex justify-content-center align-items-center"},[n("router-link",{style:t.changeStyle(e.verified),attrs:{to:"/admin/"+e.email+"-user"+e._id+".html"}},[t._v(t._s(e.verified))])],1),t._v(" "),n("td",{staticClass:"col-5 d-flex justify-content-center"},[n("button",{staticClass:"m-2 btn btn-warning text-dark",attrs:{type:"button"},on:{click:function(n){return t.changeStatusUser(e._id,"blocked")}}},[t._v("Block")]),t._v(" "),n("button",{staticClass:"m-2 btn btn-primary",attrs:{type:"button"},on:{click:function(n){return t.changeStatusUser(e._id,"actived")}}},[t._v("Actived")]),t._v(" "),n("button",{staticClass:"m-2 btn btn-danger",attrs:{type:"button"},on:{click:function(n){return t.deleteUser(e._id)}}},[t._v("Delete")])])])}),0)])])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",{staticClass:"row"},[n("th",{staticClass:"col-1"},[t._v("#")]),t._v(" "),n("th",{staticClass:"col-3"},[t._v("email")]),t._v(" "),n("th",{staticClass:"col-2"},[t._v("status")]),t._v(" "),n("th",{staticClass:"col-1"},[t._v("verified")]),t._v(" "),n("th",{staticClass:"col-5"},[t._v("Button")])])])}]};var q=n("VU/8")(M,z,!1,function(t){n("xmzK")},"data-v-607ba94f",null).exports,I={methods:{findItem:function(t){return JSON.parse(localStorage.getItem("dataUsers")).find(function(e){return e._id==t})}}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("_id: "+t._s(t.$route.params._id))]),t._v(" "),n("div",[t._v(t._s(t.findItem(t.$route.params._id)))])])},staticRenderFns:[]};var J=n("VU/8")(I,W,!1,function(t){n("GfaM")},"data-v-2e154e59",null).exports,Y={computed:s()({},Object(i.b)({data:function(t){return t.dataTodo.dataTodo}})),methods:{findItem:function(t){return JSON.parse(localStorage.getItem("dataTodo")).find(function(e){return e._id==t})}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("_id: "+t._s(t.$route.params._id))]),t._v(" "),n("div",[t._v(t._s(t.findItem(t.$route.params._id)))])])},staticRenderFns:[]};var K=n("VU/8")(Y,G,!1,function(t){n("+4MC")},"data-v-2ca1c05c",null).exports,Q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-5"},[e("h1",[this._v("404 Not found")]),this._v(" "),e("h1",[this._v(this._s(this.$store.state.error.message))])])},staticRenderFns:[]};var X=n("VU/8")({},Q,!1,function(t){n("LKIz")},"data-v-69ebbaf6",null).exports,Z={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\nnews\n    ")])},staticRenderFns:[]};var tt={path:"/news",name:"News",component:n("VU/8")({},Z,!1,function(t){n("Ffm8")},"data-v-13745c50",null).exports};a.default.use(m.a);var et=new m.a({mode:"history",routes:[{path:"/",name:"Home",component:p},{path:"/login",name:"Login",component:x,meta:{isLogin:!0}},{path:"/register",name:"Register",component:y},{path:"/change-password",name:"ChangePassword",component:E},{path:"/to-do",name:"Todo",component:O},{path:"/admin",name:"Admin",component:q},{path:"/admin/:email-user:_id.html",name:"DetailUser",component:J},{path:"/about",name:"About",component:function(){return n.e(0).then(n.bind(null,"MOh4"))}},{path:"/error",name:"Error",component:X},{path:"/to-do/:title-post:_id.html",name:"Detail",component:K},tt]});et.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.isLogin})&&a.default.$cookies.get("token")?n({path:"/",query:{}}):n()}),et.beforeEach(function(t,e,n){"Todo"!=t.name||a.default.$cookies.get("token")?n():(alert("hãy đăng nhập để sử dụng chức năng này"),n({path:"/login",query:{}}))});var nt=et,at=n("Tqaz"),ot=(n("Jmt5"),n("9M+g"),n("ppUw")),st=n.n(ot),it={state:function(){return{isLogin:!1}},getters:{},mutations:{isLogin:function(t){return a.default.$cookies.get("token")?(console.log("state ",t.isLogin),t.isLogin=!0):t.isLogin=!1}},actions:{isLogin:function(t){t.commit("isLogin")}}},rt={state:function(){return{dataTodo:"",editData:""}},getters:{},mutations:{getDataTodo:function(t,e){t.dataTodo=e},editDataTodo:function(t,e){t.editData=e}},actions:{getDataTodo:function(t,e){t.commit("getDataTodo",e)},editDataTodo:function(t,e){t.commit("editDataTodo",e)}}},ct={state:function(){},getters:{},mutations:{getDataError:function(t,e){t.message=e}},actions:{getDataError:function(t,e){t.commit("getDataError",e)}}};a.default.use(i.a);var dt=new i.a.Store({modules:{login:it,dataTodo:rt,error:ct}});a.default.use(st.a),a.default.use(at.a),a.default.use(at.b),a.default.config.productionTip=!1,new a.default({el:"#app",store:dt,router:nt,components:{App:u},template:"<App/>"})},"Qbb+":function(t,e){},Xnkk:function(t,e){},e6n7:function(t,e){},mCGq:function(t,e){},mngP:function(t,e){},sOyo:function(t,e){},uJi3:function(t,e){},xmzK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.91dc251a9d3a2498a393.js.map